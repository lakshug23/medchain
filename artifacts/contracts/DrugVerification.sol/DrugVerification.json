{
  "_format": "hh-sol-artifact-1",
  "contractName": "DrugVerification",
  "sourceName": "contracts/DrugVerification.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "batchHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "verifier",
          "type": "address"
        }
      ],
      "name": "DrugBatchVerified",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "drugHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isValid",
          "type": "bool"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "verifier",
          "type": "address"
        }
      ],
      "name": "DrugVerificationResult",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "batchMerkleRoots",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "name",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "manufacturer",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "batchNumber",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "manufactureDate",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "expiryDate",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "additionalData",
              "type": "string"
            }
          ],
          "internalType": "struct DrugVerification.DrugData",
          "name": "_drug",
          "type": "tuple"
        }
      ],
      "name": "generateDrugHash",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_batchHash",
          "type": "bytes32"
        }
      ],
      "name": "getBatchRoot",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_drugHash",
          "type": "bytes32"
        }
      ],
      "name": "isDrugVerified",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_batchHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "_merkleRoot",
          "type": "bytes32"
        }
      ],
      "name": "setBatchMerkleRoot",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "verifiedDrugs",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_batchHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "_drugHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32[]",
          "name": "_proof",
          "type": "bytes32[]"
        }
      ],
      "name": "verifyDrugInBatch",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506106e3806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c806352bcc90d1161005b57806352bcc90d146100fb5780635b46e13e1461011e578063b06e238014610131578063e14b17851461015157600080fd5b80631d4aa61f146100825780633a99589e146100ba5780633acba8ec146100db575b600080fd5b6100a5610090366004610359565b60009081526001602052604090205460ff1690565b60405190151581526020015b60405180910390f35b6100cd6100c8366004610452565b610166565b6040519081526020016100b1565b6100cd6100e9366004610359565b60009081526020819052604090205490565b6100a5610109366004610359565b60016020526000908152604090205460ff1681565b6100a561012c366004610525565b6101b3565b6100cd61013f366004610359565b60006020819052908152604090205481565b61016461015f3660046105e0565b610279565b005b80516020808301516040808501516060860151608087015160a08801519351600097610196979096959101610632565b604051602081830303815290604052805190602001209050919050565b600083815260208190526040812054806102055760405162461bcd60e51b815260206004820152600f60248201526e10985d18da081b9bdd08199bdd5b99608a1b604482015260640160405180910390fd5b60006102128483876102c4565b90508015610237576000858152600160208190526040909120805460ff191690911790555b6040518115158152339086907f527923879447fb3ef7368d0b61c8584d421e6cad0618837e5972ee507671a9e79060200160405180910390a395945050505050565b600082815260208181526040918290208390559051828152339184917f6d6c8273f006e42aa23db2738b3dfbfe822f954028d7e7408f232fda03ba879c910160405180910390a35050565b6000826102d185846102da565b14949350505050565b600081815b845181101561031f5761030b828683815181106102fe576102fe610670565b6020026020010151610327565b91508061031781610686565b9150506102df565b509392505050565b6000818310610343576000828152602084905260409020610352565b60008381526020839052604090205b9392505050565b60006020828403121561036b57600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b60405160c0810167ffffffffffffffff811182821017156103ab576103ab610372565b60405290565b604051601f8201601f1916810167ffffffffffffffff811182821017156103da576103da610372565b604052919050565b600082601f8301126103f357600080fd5b813567ffffffffffffffff81111561040d5761040d610372565b610420601f8201601f19166020016103b1565b81815284602083860101111561043557600080fd5b816020850160208301376000918101602001919091529392505050565b60006020828403121561046457600080fd5b813567ffffffffffffffff8082111561047c57600080fd5b9083019060c0828603121561049057600080fd5b610498610388565b8235828111156104a757600080fd5b6104b3878286016103e2565b8252506020830135828111156104c857600080fd5b6104d4878286016103e2565b60208301525060408301356040820152606083013560608201526080830135608082015260a08301358281111561050a57600080fd5b610516878286016103e2565b60a08301525095945050505050565b60008060006060848603121561053a57600080fd5b833592506020808501359250604085013567ffffffffffffffff8082111561056157600080fd5b818701915087601f83011261057557600080fd5b81358181111561058757610587610372565b8060051b91506105988483016103b1565b818152918301840191848101908a8411156105b257600080fd5b938501935b838510156105d0578435825293850193908501906105b7565b8096505050505050509250925092565b600080604083850312156105f357600080fd5b50508035926020909101359150565b6000815160005b818110156106235760208185018101518683015201610609565b50600093019283525090919050565b6000610647610641838a610602565b88610602565b8681528560208201528460408201526106636060820185610602565b9998505050505050505050565b634e487b7160e01b600052603260045260246000fd5b6000600182016106a657634e487b7160e01b600052601160045260246000fd5b506001019056fea26469706673582212204440aa164f50698453b1252c11d02ca4eb2aadd73ecc32000f24ad8d8c4057e864736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c806352bcc90d1161005b57806352bcc90d146100fb5780635b46e13e1461011e578063b06e238014610131578063e14b17851461015157600080fd5b80631d4aa61f146100825780633a99589e146100ba5780633acba8ec146100db575b600080fd5b6100a5610090366004610359565b60009081526001602052604090205460ff1690565b60405190151581526020015b60405180910390f35b6100cd6100c8366004610452565b610166565b6040519081526020016100b1565b6100cd6100e9366004610359565b60009081526020819052604090205490565b6100a5610109366004610359565b60016020526000908152604090205460ff1681565b6100a561012c366004610525565b6101b3565b6100cd61013f366004610359565b60006020819052908152604090205481565b61016461015f3660046105e0565b610279565b005b80516020808301516040808501516060860151608087015160a08801519351600097610196979096959101610632565b604051602081830303815290604052805190602001209050919050565b600083815260208190526040812054806102055760405162461bcd60e51b815260206004820152600f60248201526e10985d18da081b9bdd08199bdd5b99608a1b604482015260640160405180910390fd5b60006102128483876102c4565b90508015610237576000858152600160208190526040909120805460ff191690911790555b6040518115158152339086907f527923879447fb3ef7368d0b61c8584d421e6cad0618837e5972ee507671a9e79060200160405180910390a395945050505050565b600082815260208181526040918290208390559051828152339184917f6d6c8273f006e42aa23db2738b3dfbfe822f954028d7e7408f232fda03ba879c910160405180910390a35050565b6000826102d185846102da565b14949350505050565b600081815b845181101561031f5761030b828683815181106102fe576102fe610670565b6020026020010151610327565b91508061031781610686565b9150506102df565b509392505050565b6000818310610343576000828152602084905260409020610352565b60008381526020839052604090205b9392505050565b60006020828403121561036b57600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b60405160c0810167ffffffffffffffff811182821017156103ab576103ab610372565b60405290565b604051601f8201601f1916810167ffffffffffffffff811182821017156103da576103da610372565b604052919050565b600082601f8301126103f357600080fd5b813567ffffffffffffffff81111561040d5761040d610372565b610420601f8201601f19166020016103b1565b81815284602083860101111561043557600080fd5b816020850160208301376000918101602001919091529392505050565b60006020828403121561046457600080fd5b813567ffffffffffffffff8082111561047c57600080fd5b9083019060c0828603121561049057600080fd5b610498610388565b8235828111156104a757600080fd5b6104b3878286016103e2565b8252506020830135828111156104c857600080fd5b6104d4878286016103e2565b60208301525060408301356040820152606083013560608201526080830135608082015260a08301358281111561050a57600080fd5b610516878286016103e2565b60a08301525095945050505050565b60008060006060848603121561053a57600080fd5b833592506020808501359250604085013567ffffffffffffffff8082111561056157600080fd5b818701915087601f83011261057557600080fd5b81358181111561058757610587610372565b8060051b91506105988483016103b1565b818152918301840191848101908a8411156105b257600080fd5b938501935b838510156105d0578435825293850193908501906105b7565b8096505050505050509250925092565b600080604083850312156105f357600080fd5b50508035926020909101359150565b6000815160005b818110156106235760208185018101518683015201610609565b50600093019283525090919050565b6000610647610641838a610602565b88610602565b8681528560208201528460408201526106636060820185610602565b9998505050505050505050565b634e487b7160e01b600052603260045260246000fd5b6000600182016106a657634e487b7160e01b600052601160045260246000fd5b506001019056fea26469706673582212204440aa164f50698453b1252c11d02ca4eb2aadd73ecc32000f24ad8d8c4057e864736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
